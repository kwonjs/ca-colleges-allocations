<!DOCTYPE html>
<html lang="en" charset="utf-8">
<head>
	<title>Mapping with D3</title>
	<script src="https://d3js.org/d3.v6.min.js" charset="utf-8"></script>
	<script src="https://d3js.org/topojson.v1.min.js"></script>
</head>
<style>
	/*path {
		fill: none;
		stroke: #000;
		stroke-linejoin: round;
 		stroke-linecap: round;
	}*/
</style>
<body>
	<!-- Page elements and content go here. -->
	<script>
		// Width and Height of the whole visualization
		var width = 960;
		var height = 960;

		var ca_counties = d3.json('ca.json');

		{
			let svg = d3.select( "body" )
			.append( "svg" )
			.attr( "width", width )
			.attr( "height", height );

			let g = svg.append( "g" );

			svg.node();
		}

		var caProjection = d3.geoEquirectangular()
		.scale(19000)
		.rotate([120.417931, 0])
		.center([0, 36.778259])
		.translate([width / 2, height / 2]);

		var ca_geoPath = d3.geoPath()
		.projection(caProjection);

		{
			let svg = d3.select( "body" )
			.append( "svg" )
			.attr( "width", width )
			.attr( "height", height );

			let g = svg.append( "g" );
			g.selectAll( "path" )
			.data(ca_counties.features)
			.enter()
			.append( "path" )
			.attr( "fill", "#ccc" )
			.attr( "stroke", "#333")
			.attr("d", ca_geoPath); 

			svg.node();
		}

		/* var projection = d3.geoConicEqualArea()
		.parallels([34, 40.5])
		.rotate([120, 0])
		.fitSize([960, 960])

		var path = d3.geo.path().projection(projection);
		// Create SVG
		var svg = d3.select( "body" )
		    .append( "svg" )
		    .attr( "width", width )
		    .attr( "height", height );

		d3.json("california_counties.json", function(error, us) {
			if (error) return console.error(error);

			svg.append("path")
			.datum(topojson.mesh(us))
			.attr("d", path);
});*/


	</script>	
</body>
</html>